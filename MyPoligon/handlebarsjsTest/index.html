<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Handlebarsjs test</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.6/handlebars.min.js"></script>

  <script id="entry-template" type="text/x-handlebars-template">
    <div class="posts-block">
    {{#each posts}}
      <h1>{{title}}</h1>
      <div class="body">
        {{body}}
      </div>
    {{/each}}
    </div>
  </script>

  <script>
    var context;
    var fetchResult = fetch('http://localhost:1337/api/posts', {mode: 'cors'})
//     var fetchResult = fetch('dbconnect.php')
        .then(function(response) {
          return response.text();
        })
        .then(function(data) {
          var dataObj = JSON.parse(data);
          setData(dataObj);
        })
        .catch(function(error) {
          log('Request failed', error)
        });
  </script>

</head>
<body>

<div id="block"></div>

<script>
  var source   = document.getElementById("entry-template").innerHTML;
  var template = Handlebars.compile(source);

  function setData(data) {
//    console.log(data);
    var context = data;
    var html = template(context);
    document.getElementById("block").innerHTML = html;
  }
</script>
</body>
</html>